<!-- Page Content -->
 <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
 <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <div class="room-page-div-wrapper" id="page-wrapper">
            <% flash.each do |message_type, message| %>
                <div class="alert alert-<%= message_type %>"><%= message %></div>
            <% end %>


             <div id = 'video-sidebar'>
              <div class="small-vids" id = "video-spot-1"> <video id="localVideo" autoplay></video> </div>
              <div class="small-vids" id = "video-spot-2"> </div>
              <div class="small-vids" id = "video-spot-3"> </div>
              <div class="small-vids" id = "video-spot-4"> </div>
              <div class="small-vids" id = "video-spot-5"> </div>

             </div>






              <div class = "benedict-zone">
                  <%= render 'rooms/room_content_table' %>
              </div>

              <div id="benedict-sidebar-wrapper">
                <ul class="benedict-sidebar-nav">
                  <li class="sidebar-brand">
                    <!--<a style="color:red;font-size:20px; font-weight: bold;" id="loading"></a>-->
                  </li>

                </ul>
                <div id='chat-body' valign='top'>
                  <div class='panel panel-primary' id="chat-box">
                    <div class='panel-heading'>
                      <a class="chat-header">Chat</a>
                      <a class ="glyphicon glyphicon-minus" id = "minimize-chat" href = "javascript:minimize('#js-chat-body');"> </a>
                    </div>
                    <div class='panel-body' id='js-chat-body'></div>
                  </div>
                  <div class='input-group' id="chat-location">
                    <input class='form-control' id='js-input-im' placeholder="Send a message">
                    <span class='input-group-btn'>
                      <button class='btn btn-primary' id='js-send-button-im'>
                      </button>
                    </span>
                  </div>

                    <div id = "benedict-list">
                    <div class='panel-heading' id="benedict-query-header">
                    <a class="benedict-query-header-text"> Benedict Queries </a>
                    <a class ="glyphicon glyphicon-minus" id = "minimize-query" href = "javascript:minimize('.benny-list-body');"> </a>
                    </div>
                    <div class="benny-list-body">
                      <div class="benny-item">
                        <%= image_tag("googz.ico", class: "favicon") %>
                        <a class="benny-query">Schedule me a meeting benedict.</a>

                      </div>
                      <div class= "benny-item">
                        <%= image_tag("wolfram.jpg", class: "favicon") %>
                        <a class="benny-query">What is the square root of 100?</a>
                      </div>
                      <div class= "benny-item">
                        <%= image_tag("wikipedia.ico", class: "favicon") %>
                        <a class="benny-query">What's a dog?</a>
                      </div>
                    </div>
                  </div>

                  <!--<div id='speech-rec' >
                    <div class='panel panel-primary'>
                      <div class='panel-heading'>
                        Speech Recognition
                      </div>
                      <div class='panel-body' id='speech-rec-body'></div>
                    </div>
                  </div>
                  -->
                </div>
              </div>


            <!-- Page Content -->
        </div>

        <script>
          var video_spots = [0,0,0,0,0,0];

          $(function() {

            $( "#localVideo" ).draggable({

              revert: "invalid" , opacity: .7,

              create: function(event, ui) {
                $(this).draggable("option", "cursorAt", {
                      left: Math.floor(80),
                      top: Math.floor(60)
                  });
              },
              start: function(event, ui){

                if($(this).width() > 160){
                  $(this).css("width", "160px" );
                  $(this).css("height", "120px");
                }

              }

            });
            take_spot(0, $( "#localVideo" ));
            $( "#video-spot-1" ).droppable({

                activeClass: "active-video-spot",
                drop: function( event, ui ) {
                  take_spot(0, $("#" + ui.draggable.prop('id')), $("#video-spot-1"));
                  $("#video-spot-1").append( $("#" + ui.draggable.prop('id')) ) ;
                  $("#" + ui.draggable.prop('id')).css("top", "0%");
                  $("#" + ui.draggable.prop('id')).css("left", "0%");
                  $("#" + ui.draggable.prop('id')).css("width", "100%");
                  $("#" + ui.draggable.prop('id')).get(0).play();

                }
              });

             $( "#video-spot-2" ).droppable({

                activeClass: "active-video-spot",
                drop: function( event, ui ) {
                  take_spot(1, $("#" + ui.draggable.prop('id')));
                  $("#video-spot-2").append( $("#" + ui.draggable.prop('id')) );
                  $("#" + ui.draggable.prop('id')).css("top", "0%");
                  $("#" + ui.draggable.prop('id')).css("left", "0%");
                  $("#" + ui.draggable.prop('id')).css("width", "100%");
                  $("#" + ui.draggable.prop('id')).get(0).play();

                }
              });
              $( "#video-spot-3" ).droppable({

                activeClass: "active-video-spot",
                drop: function( event, ui ) {
                  take_spot(2, $("#" + ui.draggable.prop('id')));
                  $("#video-spot-3").append( $("#" + ui.draggable.prop('id')));
                  $("#" + ui.draggable.prop('id')).css("top", "0%");
                  $("#" + ui.draggable.prop('id')).css("left", "0%");
                  $("#" + ui.draggable.prop('id')).css("width", "100%");
                  $("#" + ui.draggable.prop('id')).get(0).play();

                }
              });
              $( "#video-spot-4" ).droppable({

                activeClass: "active-video-spot",
                drop: function( event, ui ) {
                  take_spot(3, $("#" + ui.draggable.prop('id')));
                  $("#video-spot-4").append( $("#" + ui.draggable.prop('id')));
                  $("#" + ui.draggable.prop('id')).css("top", "0%");
                  $("#" + ui.draggable.prop('id')).css("left", "0%");
                  $("#" + ui.draggable.prop('id')).css("width", "100%");
                  $("#" + ui.draggable.prop('id')).get(0).play();

                }
              });
              $( "#video-spot-5" ).droppable({

                activeClass: "active-video-spot",
                drop: function( event, ui ) {
                  take_spot(4, $("#" + ui.draggable.prop('id')));
                  $("#video-spot-5").append( $("#" + ui.draggable.prop('id')));
                  $("#" + ui.draggable.prop('id')).css("top", "0%");
                  $("#" + ui.draggable.prop('id')).css("left", "0%");
                  $("#" + ui.draggable.prop('id')).css("width", "100%");
                  $("#" + ui.draggable.prop('id')).get(0).play();

                }
              });

          });
        </script>
